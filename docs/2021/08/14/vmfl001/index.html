<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="Andrew Moa Blog">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://andrewmoa.site//img/home-bg.jpg">
    <meta property="twitter:image" content="https://andrewmoa.site//img/home-bg.jpg" />
    

    
    <meta name="title" content="求解器验证对比——旋转和静止同心圆柱之间的层流" />
    <meta property="og:title" content="求解器验证对比——旋转和静止同心圆柱之间的层流" />
    <meta property="twitter:title" content="求解器验证对比——旋转和静止同心圆柱之间的层流" />
    

    
    <meta name="description" content="AndrewMoa，仿真攻城狮，开源世界探索者 | 这里是 Andrew Moa 的博客，与你一起遨游知识的海洋。">
    <meta property="og:description" content="AndrewMoa，仿真攻城狮，开源世界探索者 | 这里是 Andrew Moa 的博客，与你一起遨游知识的海洋。" />
    <meta property="twitter:description" content="AndrewMoa，仿真攻城狮，开源世界探索者 | 这里是 Andrew Moa 的博客，与你一起遨游知识的海洋。" />
    

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="AndrewMoa, Andrew Moa, Andrew Moa的博客, Andrew Moa Blog, 博客, 个人网站, 仿真分析, CAE, CFD, Linux">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>求解器验证对比——旋转和静止同心圆柱之间的层流 | Andrew Moa的博客 | Andrew Moa&#39;s Blog</title>

    <link rel="canonical" href="/2021/08/14/vmfl001/">

    
    
    
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/css/zanshang.css">

    
    <link rel="stylesheet" href="/css/font-awesome.all.min.css">

    
    

    
    <script src="/js/jquery.min.js"></script>

    
    <script src="/js/bootstrap.min.js"></script>

    
    <script src="/js/hux-blog.min.js"></script>

    
    <script src="/js/lazysizes.min.js"></script>

    
    

</head>






<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Andrew Moa Blog</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">All Posts</a>
                    </li>
                    
                        
                        <li>
                            <a href="/categories/ansa/">ansa</a>
                        </li>
                        
                        <li>
                            <a href="/categories/cfd/">cfd</a>
                        </li>
                        
                        <li>
                            <a href="/categories/code/">code</a>
                        </li>
                        
                        <li>
                            <a href="/categories/linux/">linux</a>
                        </li>
                        
                        <li>
                            <a href="/categories/tech/">tech</a>
                        </li>
                        
                        <li>
                            <a href="/categories/zhihu/">zhihu</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/archive//">ARCHIVE</a></li>
                    
                        <li><a href="/about//">ABOUT</a></li>
                    
		            <li>
                        <a href="/search"><i class="fa fa-search"></i></a>
		           </li>
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>



<header class="intro-header" style="background-image: url('/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 ">
                <div class="site-heading">
                    <h1>Andrew Moa Blog </h1>
                    
		    <span class="subheading">不积小流，无以成江海</span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">
            
            <div class="
            col-lg-8 col-lg-offset-1
            col-md-8 col-md-offset-1
            col-sm-12
            col-xs-12
            post-container">
            
                <p>本文采用不同CFD求解器，对层流流动问题进行验证。通过列举不同求解器的操作过程和输出结果的差异，验证各个求解器的精度。</p>
<hr>
<h2 id="1-问题描述">1. 问题描述</h2>
<p>如下图，建立两个同心圆柱间的定常层流模型。流动由内筒以恒定角速度旋转而引起，而外筒保持静止。使用周期性边界，只需要对流域的一部分进行建模。物理模型和输入数据如下表所示。</p>
<p>
  <img src="/resources/20210814-1-1.png" alt="20210814-1-1.png">

</p>
<table>
  <thead>
      <tr>
          <th>来源</th>
          <th>Ansys验证算例</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>参考文献</td>
          <td>F. M. White. Viscous Fluid Flow. Section 3-2.3. McGraw-Hill Book Co., Inc.. New York, NY. 1991.</td>
      </tr>
      <tr>
          <td>物理模型</td>
          <td>层流，旋转壁面</td>
      </tr>
  </tbody>
</table>
<p>流体物性参数、几何尺寸和边界条件如下表所示。</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">特征</th>
          <th>单位</th>
          <th>参数</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">流体密度</td>
          <td>kg/m^3</td>
          <td>1.0</td>
      </tr>
      <tr>
          <td style="text-align: left">流体粘度</td>
          <td>kg/m-s</td>
          <td>0.0002</td>
      </tr>
      <tr>
          <td style="text-align: left">内圆柱半径</td>
          <td>mm</td>
          <td>17.8</td>
      </tr>
      <tr>
          <td style="text-align: left">外圆柱半径</td>
          <td>mm</td>
          <td>46.28</td>
      </tr>
      <tr>
          <td style="text-align: left">内圆柱转速</td>
          <td>rad/s</td>
          <td>1.0</td>
      </tr>
  </tbody>
</table>
<p>本文所用求解器和输入模型如下。</p>
<table>
  <thead>
      <tr>
          <th>求解器</th>
          <th>输入模型</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Ansys Fluent 2020R2</td>
          <td>VMFL001_rot_conc_cyl_2D.msh</td>
      </tr>
      <tr>
          <td>Ansys CFX 2020R2</td>
          <td>VMFL001_rot_conc_cyl_3D.msh</td>
      </tr>
      <tr>
          <td>Siemens STAR-CCM+ 2020.2.1(15.04.010-R8)</td>
          <td>VMFL001_rot_conc_cyl_2D.msh</td>
      </tr>
      <tr>
          <td>OpenFOAM v2006</td>
          <td>VMFL001_rot_conc_cyl_2D.msh</td>
      </tr>
      <tr>
          <td>SU2 v7.1.1</td>
          <td>VMFL001_rot_conc_cyl_2D.cgns</td>
      </tr>
  </tbody>
</table>
<h2 id="2-fluent验证">2. Fluent验证</h2>
<h3 id="21-求解器设置">2.1 求解器设置</h3>
<p>打开Fluent，选择2D求解器。网格数量较少，只用1个处理器核心运行。</p>
<p>
  <img src="/resources/20210814-2-1.png" alt="20210814-2-1.png">

</p>
<p>导入网格模型VMFL001_rot_conc_cyl_2D.msh，如下所示。</p>
<p>
  <img src="/resources/20210814-2-2.png" alt="20210814-2-2.png">

</p>
<p>更改物理模型，选择层流。</p>
<p>
  <img src="/resources/20210814-2-3.png" alt="20210814-2-3.png">

</p>
<p>更改流体参数。将&quot;air&quot;重命名为&quot;vmfl001&quot;，密度1kg/m3，粘度0.0002kg/m-s。</p>
<p>
  <img src="/resources/20210814-2-4.png" alt="20210814-2-4.png">

</p>
<p>
  <img src="/resources/20210814-2-5.png" alt="20210814-2-5.png">

</p>
<p>可以看到导入的periodic（id=10）和shadow_periodic（id=13）边界不是周期边界，需要在命令行窗口中输入<code>/mesh/modify-zones/make-periodic</code>命令，建立周期边界。</p>
<pre tabindex="0"><code>&gt; /mesh/modify-zones/make-periodic
Periodic zone [()] 10
Shadow zone [()] 13
Rotationally periodic? (if no, translationally) [yes] yes
Create periodic zones? [yes] yes
</code></pre><p>更改innerwall（id=11）边界为旋转壁面，设置如下。</p>
<p>
  <img src="/resources/20210814-2-6.png" alt="20210814-2-6.png">

</p>
<p>求解器选择SIMPLE，如下所示。</p>
<p>
  <img src="/resources/20210814-2-7.png" alt="20210814-2-7.png">

</p>
<p>收敛残差更改为1e-6，初始化。</p>
<p>
  <img src="/resources/20210814-2-8.png" alt="20210814-2-8.png">

</p>
<p>
  <img src="/resources/20210814-2-9.png" alt="20210814-2-9.png">

</p>
<p>迭代步数800，求解并保存。</p>
<p>
  <img src="/resources/20210814-2-10.png" alt="20210814-2-10.png">

</p>
<p>
  <img src="/resources/20210814-2-11.png" alt="20210814-2-11.png">

</p>
<h3 id="22-后处理">2.2 后处理</h3>
<p>在半径20~35mm处建立4个点，坐标如下表所示。</p>
<table>
  <thead>
      <tr>
          <th>名称</th>
          <th>x (m)</th>
          <th>y (m)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>point-1</td>
          <td>0.02</td>
          <td>0</td>
      </tr>
      <tr>
          <td>point-2</td>
          <td>0.025</td>
          <td>0</td>
      </tr>
      <tr>
          <td>point-3</td>
          <td>0.03</td>
          <td>0</td>
      </tr>
      <tr>
          <td>point-4</td>
          <td>0.035</td>
          <td>0</td>
      </tr>
  </tbody>
</table>
<p>
  <img src="/resources/20210814-2-12.png" alt="20210814-2-12.png">

</p>
<p>
  <img src="/resources/20210814-2-13.png" alt="20210814-2-13.png">

</p>
<p>输出四个点的切向速度。</p>
<p>
  <img src="/resources/20210814-2-14.png" alt="20210814-2-14.png">

</p>
<p>新建一条水平方向的直线，输出不同半径下的切向速度分布曲线。</p>
<p>
  <img src="/resources/20210814-2-15.png" alt="20210814-2-15.png">

</p>
<p>
  <img src="/resources/20210814-2-16.png" alt="20210814-2-16.png">

</p>
<p>
  <img src="/resources/20210814-2-17.png" alt="20210814-2-17.png">

</p>
<p>将曲线点数据输出到文件中备用。</p>
<p>
  <img src="/resources/20210814-2-18.png" alt="20210814-2-18.png">

</p>
<p>层流方程与Fluent计算结果误差对比。</p>
<table>
  <thead>
      <tr>
          <th>半径 [mm]</th>
          <th>切向速度（理论值） [m/s]</th>
          <th>切向速度（Fluent仿真结果）[m/s]</th>
          <th>误差 [%]</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>20</td>
          <td>0.0151</td>
          <td>0.015027723</td>
          <td>0.48</td>
      </tr>
      <tr>
          <td>25</td>
          <td>0.0105</td>
          <td>0.010464473</td>
          <td>0.34</td>
      </tr>
      <tr>
          <td>30</td>
          <td>0.0072</td>
          <td>0.0071237963</td>
          <td>1.06</td>
      </tr>
      <tr>
          <td>35</td>
          <td>0.0046</td>
          <td>0.0044973576</td>
          <td>2.23</td>
      </tr>
  </tbody>
</table>
<h2 id="3-cfx验证">3. CFX验证</h2>
<h3 id="31-求解器设置">3.1 求解器设置</h3>
<p>启动CFX-Pre，新建算例，导入fluent网格文件VMFL001_rot_conc_cyl_3D.msh。</p>
<p>
  <img src="/resources/20210814-3-1.png" alt="20210814-3-1.png">

</p>
<p>新建材料，命名为&quot;vmfl001&quot;。密度1 [kg m^-3]，动力粘度0.0002 [Pa s]。</p>
<p>
  <img src="/resources/20210814-3-2.png" alt="20210814-3-2.png">

</p>
<p>新建流体域（Domain），命名为FLUID，网格区域（Location）选择FLUID。材料选择刚刚新建的vmfl001。关闭传换热方程，湍流方程选择None(Laminar)。</p>
<p>
  <img src="/resources/20210814-3-3.png" alt="20210814-3-3.png">

</p>
<p>
  <img src="/resources/20210814-3-4.png" alt="20210814-3-4.png">

</p>
<p>在此流体域中新建边界，所对应的网格边界如下表所示。</p>
<table>
  <thead>
      <tr>
          <th>流体边界</th>
          <th>网格边界</th>
          <th>边界类型</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>INNERWALL</td>
          <td>INNERWALL</td>
          <td>Wall</td>
      </tr>
      <tr>
          <td>OUTERWALL</td>
          <td>OUTERWALL</td>
          <td>Wall</td>
      </tr>
      <tr>
          <td>SYMM 1</td>
          <td>SYMM 1</td>
          <td>Symmetry</td>
      </tr>
      <tr>
          <td>SYMM 2</td>
          <td>SYMM 2</td>
          <td>Symmetry</td>
      </tr>
  </tbody>
</table>
<p>其中，INNERWALL指定为旋转壁面，如下图所示，角速度 1 [radian s^-1]。</p>
<p>
  <img src="/resources/20210814-3-5.png" alt="20210814-3-5.png">

</p>
<p>新建交界面（Interfaces），命名为PERIODIC，如下图所示。</p>
<p>
  <img src="/resources/20210814-3-6.png" alt="20210814-3-6.png">

</p>
<p>新建全局初始化（Global Initialization），直接确认，采用默认值即可。</p>
<p>
  <img src="/resources/20210814-3-7.png" alt="20210814-3-7.png">

</p>
<p>更改求解器控制（Solver Control），最大迭代步数改为1000，残差类型改为MAX，收敛残差目标改为1e-6。</p>
<p>
  <img src="/resources/20210814-3-8.png" alt="20210814-3-8.png">

</p>
<p>保存算例，输出.def文件。打开CFS-Solver Manager载入.def文件，求解器类型选择双精度，开始求解。</p>
<p>
  <img src="/resources/20210814-3-9.png" alt="20210814-3-9.png">

</p>
<p>大概23步左右就收敛了。</p>
<p>
  <img src="/resources/20210814-3-10.png" alt="20210814-3-10.png">

</p>
<h3 id="32-后处理">3.2 后处理</h3>
<p>打开CFD-Post，载入求解完毕输出的结果文件。在半径20~35mm处建立4个点，如下表。</p>
<table>
  <thead>
      <tr>
          <th>名称</th>
          <th>x (m)</th>
          <th>y (m)</th>
          <th>z (m)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Point 1</td>
          <td>0.02</td>
          <td>0</td>
          <td>0</td>
      </tr>
      <tr>
          <td>Point 2</td>
          <td>0.025</td>
          <td>0</td>
          <td>0</td>
      </tr>
      <tr>
          <td>Point 3</td>
          <td>0.03</td>
          <td>0</td>
          <td>0</td>
      </tr>
      <tr>
          <td>Point 4</td>
          <td>0.035</td>
          <td>0</td>
          <td>0</td>
      </tr>
  </tbody>
</table>
<p>建立如下4个表达式（Expressions），输出4个点的切向速度。</p>
<table>
  <thead>
      <tr>
          <th>表达式名称</th>
          <th>表达式定义</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>VelYOnPoint1</td>
          <td>maxVal(Velocity v)@Point 1</td>
      </tr>
      <tr>
          <td>VelYOnPoint2</td>
          <td>maxVal(Velocity v)@Point 2</td>
      </tr>
      <tr>
          <td>VelYOnPoint3</td>
          <td>maxVal(Velocity v)@Point 3</td>
      </tr>
      <tr>
          <td>VelYOnPoint4</td>
          <td>maxVal(Velocity v)@Point 4</td>
      </tr>
  </tbody>
</table>
<p>新建Table，将4个点的半径和速度列出。</p>
<p>
  <img src="/resources/20210814-3-11.png" alt="20210814-3-11.png">

</p>
<p>建立直线&quot;Line 1&quot;，如下图所示。</p>
<p>
  <img src="/resources/20210814-3-12.png" alt="20210814-3-12.png">

</p>
<p>建立曲线图（Chart），“Data Series&quot;中的&quot;Location&quot;选择刚刚建立的&quot;Line 1&quot;，”X Axis&quot;中的“Variable&quot;选择&quot;X&quot;，”Y Axis&quot;中的“Variable&quot;选择&quot;Velocity v&quot;，输出曲线如下图所示。将曲线数据导出到.csv文件中备用。</p>
<p>
  <img src="/resources/20210814-3-13.png" alt="20210814-3-13.png">

</p>
<p>层流方程与CFX计算结果误差对比。</p>
<table>
  <thead>
      <tr>
          <th>半径 [mm]</th>
          <th>切向速度（理论值） [m/s]</th>
          <th>切向速度（CFX仿真结果）[m/s]</th>
          <th>误差 [%]</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>20</td>
          <td>0.0151</td>
          <td>0.0150925</td>
          <td>0.05</td>
      </tr>
      <tr>
          <td>25</td>
          <td>0.0105</td>
          <td>0.0105287</td>
          <td>0.27</td>
      </tr>
      <tr>
          <td>30</td>
          <td>0.0072</td>
          <td>0.00718282</td>
          <td>0.24</td>
      </tr>
      <tr>
          <td>35</td>
          <td>0.0046</td>
          <td>0.00454726</td>
          <td>1.15</td>
      </tr>
  </tbody>
</table>
<h2 id="4-star-ccm验证">4. STAR-CCM+验证</h2>
<h3 id="41-求解器设置">4.1 求解器设置</h3>
<p>打开STAR-CCM+，由于网格数较少，进程选项可以选择串行，只用1个处理器核心进行求解。导入fluent网格文件VMFL001_rot_conc_cyl_2D.msh。</p>
<p>
  <img src="/resources/20210814-4-1.png" alt="20210814-4-1.png">

</p>
<p>选择求解器物理模型，如下图所示。</p>
<p>
  <img src="/resources/20210814-4-2.png" alt="20210814-4-2.png">

</p>
<p>将气体材料&quot;Air&quot;重命名为&quot;vmfl001&quot;，密度修改为1.0 kg/m^3，动力粘度修改为2.0E-4 Pa-s。</p>
<p>
  <img src="/resources/20210814-4-3.png" alt="20210814-4-3.png">

</p>
<p>展开流体区域中的&quot;FLUID-7&quot;，同时选中&quot;PERIODIC&quot;和&quot;SHADOW_PERIODIC&quot;边界，右键创建界面。新建的交界面拓扑改为&quot;周期&quot;，周期转换选择&quot;旋转&quot;，旋转轴指定改为&quot;指定轴&quot;，轴的方向为&quot;[0.0, 0.0, 1.0]&quot;。</p>
<p>
  <img src="/resources/20210814-4-4.png" alt="20210814-4-4.png">

</p>
<p>在&quot;工具&quot;、&ldquo;运动&quot;中新建旋转运动，旋转轴方向[0.0, 0.0, 1.0]，旋转速率1.0 radian/s。</p>
<p>
  <img src="/resources/20210814-4-5.png" alt="20210814-4-5.png">

</p>
<p>将INNERWALL边界的参考坐标系指定选项更改为&quot;局部参考坐标系&rdquo;，边界参考坐标系指定选择刚刚新建的旋转运动的坐标系。</p>
<p>
  <img src="/resources/20210814-4-6.png" alt="20210814-4-6.png">

</p>
<p>停止标准中的最大迭代步数默认为1000，运行求解并保存算例。</p>
<p>
  <img src="/resources/20210814-4-7.png" alt="20210814-4-7.png">

</p>
<h3 id="42-后处理">4.2 后处理</h3>
<p>在衍生零部件中新建4个探针点，如下表。</p>
<p>
  <img src="/resources/20210814-4-8.png" alt="20210814-4-8.png">

</p>
<table>
  <thead>
      <tr>
          <th>名称</th>
          <th>x (m)</th>
          <th>y (m)</th>
          <th>z (m)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>p1</td>
          <td>0.02</td>
          <td>0</td>
          <td>0</td>
      </tr>
      <tr>
          <td>p2</td>
          <td>0.025</td>
          <td>0</td>
          <td>0</td>
      </tr>
      <tr>
          <td>p3</td>
          <td>0.03</td>
          <td>0</td>
          <td>0</td>
      </tr>
      <tr>
          <td>p4</td>
          <td>0.035</td>
          <td>0</td>
          <td>0</td>
      </tr>
  </tbody>
</table>
<p>同样地，在衍生零部件中新建等值面&quot;y=0&quot;，如下图。</p>
<p>
  <img src="/resources/20210814-4-9.png" alt="20210814-4-9.png">

</p>
<p>在&quot;工具&quot;、&ldquo;表&quot;中新建&quot;XYZ内部表&rdquo;，标量选择&quot;[Velocity[j]]&quot;，零部件选择新建的p1~p4四个点，邮件提取然后制表，显示4个点的切向速度。</p>
<p>
  <img src="/resources/20210814-4-10.png" alt="20210814-4-10.png">

</p>
<p>在&quot;绘图&quot;中新建&quot;XY绘图&quot;，零部件选择新建的等值面&quot;y=0&quot;，&ldquo;Y类型&rdquo;、&ldquo;Y Type 1&quot;中的场函数选择&rdquo;[Velocity[j]]&quot;，曲线图如下。将曲线数据导出到.csv文件中备用。</p>
<p>
  <img src="/resources/20210814-4-11.png" alt="20210814-4-11.png">

</p>
<p>层流方程与STAR-CCM+计算结果误差对比。</p>
<table>
  <thead>
      <tr>
          <th>半径 [mm]</th>
          <th>切向速度（理论值） [m/s]</th>
          <th>切向速度（STAR-CCM+仿真结果）[m/s]</th>
          <th>误差 [%]</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>20</td>
          <td>0.0151</td>
          <td>0.0153266630659337</td>
          <td>1.50</td>
      </tr>
      <tr>
          <td>25</td>
          <td>0.0105</td>
          <td>0.0106689558311781</td>
          <td>1.61</td>
      </tr>
      <tr>
          <td>30</td>
          <td>0.0072</td>
          <td>0.00671828465572254</td>
          <td>6.69</td>
      </tr>
      <tr>
          <td>35</td>
          <td>0.0046</td>
          <td>0.004432094526565</td>
          <td>3.65</td>
      </tr>
  </tbody>
</table>
<h2 id="5-openfoam验证">5. OpenFOAM验证</h2>
<h3 id="51-求解器设置">5.1 求解器设置</h3>
<p>首先将官方自带案例中的simpleCar复制到当前目录下并重命名为vmfl001，这里用的是MSYS2作为命令行交互界面，执行以下命令。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span> cp -r <span style="color:#8be9fd;font-style:italic">$FOAM_TUTORIALS</span>/incompressible/simpleFoam/simpleCar .
</span></span><span style="display:flex;"><span> mv simpleCar vmfl001
</span></span><span style="display:flex;"><span> <span style="color:#8be9fd;font-style:italic">cd</span> vmfl001
</span></span></code></pre></div><p>将VMFL001_rot_conc_cyl_2D.msh文件复制到vmfl001文件夹中，执行以下命令，将fluent网格转换为OpenFOAM网格。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>fluentMeshToFoam VMFL001_rot_conc_cyl_2D.msh
</span></span></code></pre></div><p>打开constant/polyMesh/boundary文件，修改如下，将&quot;PERIODIC&quot;和&quot;SHADOW_PERIODIC&quot;边界由壁面改为周期边界。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>FoamFile
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    version     <span style="color:#bd93f9">2.0</span>;
</span></span><span style="display:flex;"><span>    format      ascii;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">class</span>       <span style="color:#50fa7b">polyBoundaryMesh</span>;
</span></span><span style="display:flex;"><span>    location    <span style="color:#f1fa8c">&#34;constant/polyMesh&#34;</span>;
</span></span><span style="display:flex;"><span>    object      boundary;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#bd93f9">5</span>
</span></span><span style="display:flex;"><span>(
</span></span><span style="display:flex;"><span>    PERIODIC
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        type            cyclicAMI;
</span></span><span style="display:flex;"><span>        inGroups        <span style="color:#bd93f9">1</span>(wall);
</span></span><span style="display:flex;"><span>        nFaces          <span style="color:#bd93f9">20</span>;
</span></span><span style="display:flex;"><span>        startFace       <span style="color:#bd93f9">2320</span>;
</span></span><span style="display:flex;"><span>        matchTolerance  <span style="color:#bd93f9">0.0001</span>;
</span></span><span style="display:flex;"><span>        transform       rotational;
</span></span><span style="display:flex;"><span>        rotationAxis    (<span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">1</span>);
</span></span><span style="display:flex;"><span>        rotationCentre  (<span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span>);
</span></span><span style="display:flex;"><span>        neighbourPatch  SHADOW_PERIODIC;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    INNERWALL
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        type            wall;
</span></span><span style="display:flex;"><span>        inGroups        <span style="color:#bd93f9">1</span>(wall);
</span></span><span style="display:flex;"><span>        nFaces          <span style="color:#bd93f9">60</span>;
</span></span><span style="display:flex;"><span>        startFace       <span style="color:#bd93f9">2340</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    OUTERWALL
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        type            wall;
</span></span><span style="display:flex;"><span>        inGroups        <span style="color:#bd93f9">1</span>(wall);
</span></span><span style="display:flex;"><span>        nFaces          <span style="color:#bd93f9">60</span>;
</span></span><span style="display:flex;"><span>        startFace       <span style="color:#bd93f9">2400</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    SHADOW_PERIODIC
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        type            cyclicAMI;
</span></span><span style="display:flex;"><span>        inGroups        <span style="color:#bd93f9">1</span>(wall);
</span></span><span style="display:flex;"><span>        nFaces          <span style="color:#bd93f9">20</span>;
</span></span><span style="display:flex;"><span>        startFace       <span style="color:#bd93f9">2460</span>;
</span></span><span style="display:flex;"><span>        matchTolerance  <span style="color:#bd93f9">0.0001</span>;
</span></span><span style="display:flex;"><span>        transform       rotational;
</span></span><span style="display:flex;"><span>        rotationAxis    (<span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">1</span>);
</span></span><span style="display:flex;"><span>        rotationCentre  (<span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span>);
</span></span><span style="display:flex;"><span>        neighbourPatch  PERIODIC;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    frontAndBackPlanes
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        type            empty;
</span></span><span style="display:flex;"><span>        inGroups        <span style="color:#bd93f9">1</span>(empty);
</span></span><span style="display:flex;"><span>        nFaces          <span style="color:#bd93f9">2400</span>;
</span></span><span style="display:flex;"><span>        startFace       <span style="color:#bd93f9">2480</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>删除vmfl001目录下的&quot;Allrun&quot;文件。删除vmfl001/0目录下的&quot;epsilon&quot;、&ldquo;k&quot;和&quot;nut&rdquo;，只保留&quot;p&quot;和&quot;U&quot;。</p>
<p>修改&quot;p&quot;文件如下。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>FoamFile
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    version     <span style="color:#bd93f9">2.0</span>;
</span></span><span style="display:flex;"><span>    format      ascii;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">class</span>       <span style="color:#50fa7b">volScalarField</span>;
</span></span><span style="display:flex;"><span>    object      p;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>dimensions      [<span style="color:#bd93f9">0</span> <span style="color:#bd93f9">2</span> <span style="color:#ff79c6">-</span><span style="color:#bd93f9">2</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span>];
</span></span><span style="display:flex;"><span>internalField   uniform <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span>boundaryField
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;(INNERWALL|OUTERWALL)&#34;</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        type            zeroGradient;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    frontAndBackPlanes
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        type            empty;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;(PERIODIC|SHADOW_PERIODIC)&#34;</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        type            cyclicAMI;
</span></span><span style="display:flex;"><span>        value           $internalField;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>修改&quot;U&quot;文件如下。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>FoamFile
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    version     <span style="color:#bd93f9">2.0</span>;
</span></span><span style="display:flex;"><span>    format      ascii;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">class</span>       <span style="color:#50fa7b">volVectorField</span>;
</span></span><span style="display:flex;"><span>    object      U;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>dimensions      [<span style="color:#bd93f9">0</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span>];
</span></span><span style="display:flex;"><span>internalField   <span style="color:#50fa7b">uniform</span> (<span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span>);
</span></span><span style="display:flex;"><span>boundaryField
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    INNERWALL
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        type            rotatingWallVelocity;
</span></span><span style="display:flex;"><span>        axis            (<span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">1</span>);
</span></span><span style="display:flex;"><span>        origin          (<span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span>);
</span></span><span style="display:flex;"><span>        omega           constant <span style="color:#bd93f9">1.0</span>;
</span></span><span style="display:flex;"><span>        value           <span style="color:#50fa7b">uniform</span> (<span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    OUTERWALL
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        type            noSlip;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    frontAndBackPlanes
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        type            empty;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f1fa8c">&#34;(PERIODIC|SHADOW_PERIODIC)&#34;</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        type            cyclicAMI;
</span></span><span style="display:flex;"><span>        value           $internalField;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>执行以下命令，检查网格边界条件设置。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>checkMesh
</span></span></code></pre></div><p>修改constant目录下的&quot;transportProperties&quot;文件，将nu值改为0.0002。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>FoamFile
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    version     <span style="color:#bd93f9">2.0</span>;
</span></span><span style="display:flex;"><span>    format      ascii;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">class</span>       <span style="color:#50fa7b">dictionary</span>;
</span></span><span style="display:flex;"><span>    location    <span style="color:#f1fa8c">&#34;constant&#34;</span>;
</span></span><span style="display:flex;"><span>    object      transportProperties;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>transportModel  Newtonian;
</span></span><span style="display:flex;"><span>nu              <span style="color:#bd93f9">0.0002</span>;
</span></span></code></pre></div><p>修改constant目录下的&quot;turbulenceProperties&quot;文件，采用层流模型。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>FoamFile
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    version     <span style="color:#bd93f9">2.0</span>;
</span></span><span style="display:flex;"><span>    format      ascii;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">class</span>       <span style="color:#50fa7b">dictionary</span>;
</span></span><span style="display:flex;"><span>    object      turbulenceProperties;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>simulationType laminar;
</span></span></code></pre></div><p>system目录下，只保留&quot;controlDict&quot;、&ldquo;fvSchemes&quot;和&quot;fvSolution&quot;三个文件，其他的全部删除。</p>
<p>修改&quot;controlDict&quot;文件如下，求解程序simpleFoam，从保存的最后一步开始求解，迭代步数1000步，每隔100步写入求解结果。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>FoamFile
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    version     <span style="color:#bd93f9">2.0</span>;
</span></span><span style="display:flex;"><span>    format      ascii;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">class</span>       <span style="color:#50fa7b">dictionary</span>;
</span></span><span style="display:flex;"><span>    location    <span style="color:#f1fa8c">&#34;system&#34;</span>;
</span></span><span style="display:flex;"><span>    object      controlDict;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>application     simpleFoam;
</span></span><span style="display:flex;"><span>startFrom       latestTime;
</span></span><span style="display:flex;"><span>startTime       <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span>stopAt          endTime;
</span></span><span style="display:flex;"><span>endTime         <span style="color:#bd93f9">1000</span>;
</span></span><span style="display:flex;"><span>deltaT          <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span>writeControl    timeStep;
</span></span><span style="display:flex;"><span>writeInterval   <span style="color:#bd93f9">100</span>;
</span></span><span style="display:flex;"><span>purgeWrite      <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span>writeFormat     ascii;
</span></span><span style="display:flex;"><span>writePrecision  <span style="color:#bd93f9">8</span>;
</span></span><span style="display:flex;"><span>writeCompression off;
</span></span><span style="display:flex;"><span>timeFormat      general;
</span></span><span style="display:flex;"><span>timePrecision   <span style="color:#bd93f9">8</span>;
</span></span><span style="display:flex;"><span>runTimeModifiable <span style="color:#8be9fd;font-style:italic">true</span>;
</span></span></code></pre></div><p>修改&quot;fvSolution&quot;文件如下。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c++" data-lang="c++"><span style="display:flex;"><span>FoamFile
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    version     <span style="color:#bd93f9">2.0</span>;
</span></span><span style="display:flex;"><span>    format      ascii;
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">class</span>       <span style="color:#50fa7b">dictionary</span>;
</span></span><span style="display:flex;"><span>    location    <span style="color:#f1fa8c">&#34;system&#34;</span>;
</span></span><span style="display:flex;"><span>    object      fvSolution;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>solvers
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    p
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        solver          GAMG;
</span></span><span style="display:flex;"><span>        smoother        GaussSeidel;
</span></span><span style="display:flex;"><span>        tolerance       <span style="color:#bd93f9">1e-08</span>;
</span></span><span style="display:flex;"><span>        relTol          <span style="color:#bd93f9">0.01</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    U
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        solver          smoothSolver;
</span></span><span style="display:flex;"><span>        smoother        symGaussSeidel;
</span></span><span style="display:flex;"><span>        tolerance       <span style="color:#bd93f9">1e-08</span>;
</span></span><span style="display:flex;"><span>        relTol          <span style="color:#bd93f9">0.01</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>SIMPLE
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    nNonOrthogonalCorrectors <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span>    residualControl
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        p               <span style="color:#bd93f9">1e-8</span>;
</span></span><span style="display:flex;"><span>        U               <span style="color:#bd93f9">1e-8</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    pRefCell <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span>    pRefValue <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>relaxationFactors
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    fields
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        p               <span style="color:#bd93f9">0.3</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    equations
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        U               <span style="color:#bd93f9">0.7</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>回到vmfl001目录，执行以下命令（Windows下若用到tee命令，可以在Powershell里执行），运行求解并记录求解过程输出。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>simpleFoam | tee simpleFoam.log
</span></span></code></pre></div><h3 id="52-后处理">5.2 后处理</h3>
<p>Linux下可以直接使用<code>paraFoam</code>启动ParaView进行后处理。在Windows下执行以下命令，在vmfl001目录中生成.foam文件，用ParaView打开.foam文件方能载入OpenFOAM的求解结果。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">echo</span> . &gt; vmfl001.foam
</span></span></code></pre></div><p>
  <img src="/resources/20210814-5-1.png" alt="20210814-5-1.png">

</p>
<p>以vmfl001.foam为基础，新建4个&quot;Probe Location&rdquo;，用于提取20~35mm处的切向速度。</p>
<p>
  <img src="/resources/20210814-5-2.png" alt="20210814-5-2.png">

</p>
<table>
  <thead>
      <tr>
          <th>名称</th>
          <th>Center</th>
          <th>Radius</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>ProbeLocation1</td>
          <td>(0.020,0,0)</td>
          <td>0</td>
      </tr>
      <tr>
          <td>ProbeLocation2</td>
          <td>(0.025,0,0)</td>
          <td>0</td>
      </tr>
      <tr>
          <td>ProbeLocation3</td>
          <td>(0.030,0,0)</td>
          <td>0</td>
      </tr>
      <tr>
          <td>ProbeLocation4</td>
          <td>(0.035,0,0)</td>
          <td>0</td>
      </tr>
  </tbody>
</table>
<p>新建GroupDatasets，包含上述4个ProbeLocation。</p>
<p>
  <img src="/resources/20210814-5-3.png" alt="20210814-5-3.png">

</p>
<p>选中该GroupDatasets，可在右侧&quot;SpreadSheetView&quot;窗口中看到4个点位置的切向速度值。</p>
<p>
  <img src="/resources/20210814-5-4.png" alt="20210814-5-4.png">

</p>
<p>以vmfl001.foam为基础，建立&quot;PlotOnIntersectionCurves&quot;绘图。</p>
<p>
  <img src="/resources/20210814-5-5.png" alt="20210814-5-5.png">

</p>
<p>平面方向选择Y轴正向，如图所示。</p>
<p>
  <img src="/resources/20210814-5-6.png" alt="20210814-5-6.png">

</p>
<p>X轴显示变量选择&quot;Points_X&quot;，Y轴显示变量选择&quot;U_Y&quot;，如图所示。</p>
<p>
  <img src="/resources/20210814-5-7.png" alt="20210814-5-7.png">

</p>
<p>右侧&quot;LineChartView&quot;窗口可以查看生成的曲线。</p>
<p>
  <img src="/resources/20210814-5-8.png" alt="20210814-5-8.png">

</p>
<p>选择&quot;File&quot;、&ldquo;Export Scene&rdquo;，可以将曲线数据导出到csv文件中。</p>
<p>层流方程与OpenFOAM计算结果误差对比。</p>
<table>
  <thead>
      <tr>
          <th>半径 [mm]</th>
          <th>切向速度（理论值） [m/s]</th>
          <th>切向速度（OpenFOAM仿真结果）[m/s]</th>
          <th>误差 [%]</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>20</td>
          <td>0.0151</td>
          <td>0.0150</td>
          <td>0.66</td>
      </tr>
      <tr>
          <td>25</td>
          <td>0.0105</td>
          <td>0.0104366</td>
          <td>0.60</td>
      </tr>
      <tr>
          <td>30</td>
          <td>0.0072</td>
          <td>0.00712633</td>
          <td>1.02</td>
      </tr>
      <tr>
          <td>35</td>
          <td>0.0046</td>
          <td>0.00452779</td>
          <td>1.57</td>
      </tr>
  </tbody>
</table>
<h2 id="6-su2验证">6. SU2验证</h2>
<h3 id="61-求解器设置">6.1 求解器设置</h3>
<p>SU2求解器配置文件vmfl001.cfg内容如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#50fa7b">% ------------- DIRECT, ADJOINT, AND LINEARIZED PROBLEM DEFINITION ------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Physical governing equations (EULER, NAVIER_STOKES,</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%                               WAVE_EQUATION, HEAT_EQUATION, FEM_ELASTICITY,</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%                               POISSON_EQUATION)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">SOLVER</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">INC_NAVIER_STOKES</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Specify turbulence model (NONE, SA)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">KIND_TURB_MODEL</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">NONE</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Mathematical problem (DIRECT, CONTINUOUS_ADJOINT)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MATH_PROBLEM</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">DIRECT</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Restart solution (NO, YES)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">RESTART_SOL</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">NO</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% ---------------- INCOMPRESSIBLE FLOW CONDITION DEFINITION -------------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Density model within the incompressible flow solver.</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Options are CONSTANT (default), BOUSSINESQ, or VARIABLE. If VARIABLE,</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% an appropriate fluid model must be selected.</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">INC_DENSITY_MODEL</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">CONSTANT</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Solve the energy equation in the incompressible flow solver</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">INC_ENERGY_EQUATION</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">YES</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Initial density for incompressible flows (1.2886 kg/m^3 by default)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">INC_DENSITY_INIT</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">1.0</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Initial temperature for incompressible flows that include the</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% energy equation (288.15 K by default). Value is ignored if</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% INC_ENERGY_EQUATION is false.</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">INC_TEMPERATURE_INIT</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">293.15</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Initial velocity for incompressible flows (1.0,0,0 m/s by default)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">INC_VELOCITY_INIT</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">( 1.0, 0.0, 0.0 )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% ---- IDEAL GAS, POLYTROPIC, VAN DER WAALS AND PENG ROBINSON CONSTANTS -------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Fluid model (STANDARD_AIR, IDEAL_GAS, VW_GAS, PR_GAS, </span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%              CONSTANT_DENSITY, INC_IDEAL_GAS)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">FLUID_MODEL</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">CONSTANT_DENSITY</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Specific heat at constant pressure, Cp (1004.703 J/kg*K (air)).</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Incompressible fluids with energy eqn. only (CONSTANT_DENSITY, INC_IDEAL_GAS).</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">SPECIFIC_HEAT_CP</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">1004.703</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% --------------------------- VISCOSITY MODEL ---------------------------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Viscosity model (SUTHERLAND, CONSTANT_VISCOSITY).</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">VISCOSITY_MODEL</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">CONSTANT_VISCOSITY</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Molecular Viscosity that would be constant (1.716E-5 by default)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MU_CONSTANT</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0.0002</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% --------------------------- THERMAL CONDUCTIVITY MODEL ----------------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Conductivity model (CONSTANT_CONDUCTIVITY, CONSTANT_PRANDTL).</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">CONDUCTIVITY_MODEL</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">CONSTANT_PRANDTL</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Laminar Prandtl number (0.72 (air), only for CONSTANT_PRANDTL)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">PRANDTL_LAM</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0.72</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Turbulent Prandtl number (0.9 (air), only for CONSTANT_PRANDTL)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">PRANDTL_TURB</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0.90</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% ---------------------- REFERENCE VALUE DEFINITION ---------------------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Reference origin for moment computation</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">REF_ORIGIN_MOMENT_X</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0.25</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">REF_ORIGIN_MOMENT_Y</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0.00</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">REF_ORIGIN_MOMENT_Z</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0.00</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Reference length for pitching, rolling, and yawing non-dimensional moment</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">REF_LENGTH</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">1.0</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Reference area for force coefficients (0 implies automatic calculation)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">REF_AREA</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">1.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% ----------------------- DYNAMIC MESH DEFINITION -----------------------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Type of dynamic surface movement (NONE, DEFORMING,</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%                       MOVING_WALL, FLUID_STRUCTURE, FLUID_STRUCTURE_STATIC,</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%                       AEROELASTIC, EXTERNAL, EXTERNAL_ROTATION,</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%                       AEROELASTIC_RIGID_MOTION)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">SURFACE_MOVEMENT</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">MOVING_WALL</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Moving wall boundary marker(s) (NONE</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">no marker, ignored for RIGID_MOTION)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MARKER_MOVING</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">( INNERWALL )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Coordinates of the motion origin</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">SURFACE_MOTION_ORIGIN</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0.0 0.0 0.0</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Angular velocity vector (rad/s) about the motion origin</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">SURFACE_ROTATION_RATE</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0.0 0.0 1.0</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% -------------------- BOUNDARY CONDITION DEFINITION --------------------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Navier-Stokes (no-slip), constant heat flux wall  marker(s) (NONE</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">no marker)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Format: ( marker name, constant heat flux (J/m^2), ... )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MARKER_HEATFLUX</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">( OUTERWALL, 0.0 )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Navier-Stokes (no-slip), isothermal wall marker(s) (NONE</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">no marker)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Format: ( marker name, constant wall temperature (K), ... )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MARKER_ISOTHERMAL</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">( INNERWALL, 313.15 )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Periodic boundary marker(s) (NONE</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">no marker)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Format: ( periodic marker, donor marker, rotation_center_x, rotation_center_y,</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% rotation_center_z, rotation_angle_x-axis, rotation_angle_y-axis,</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% rotation_angle_z-axis, translation_x, translation_y, translation_z, ... )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% MARKER_PERIODIC</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">( PERIODIC, SHADOW_PERIODIC, 0, 0, 0, 0, 0, 180, 0, 0, 0 )</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Marker(s) of the surface to be plotted or designed</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MARKER_PLOTTING</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">( INNERWALL, OUTERWALL )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Marker(s) of the surface where the functional (Cd, Cl, etc.) will be evaluated</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MARKER_MONITORING</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">( NONE )</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% ------------- COMMON PARAMETERS DEFINING THE NUMERICAL METHOD ---------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Numerical method for spatial gradients (GREEN_GAUSS, WEIGHTED_LEAST_SQUARES)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">NUM_METHOD_GRAD</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">WEIGHTED_LEAST_SQUARES</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Courant-Friedrichs-Lewy condition of the finest grid</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">CFL_NUMBER</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">15.0</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Adaptive CFL number (NO, YES)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">CFL_ADAPT</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">YES</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Parameters of the adaptive CFL number (factor down, factor up, CFL min value,</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%                                        CFL max value )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">CFL_ADAPT_PARAM</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">( 0.1, 2.0, 1.0, 1e10 )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Number of total iterations</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">ITER</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">10000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% ------------------------ LINEAR SOLVER DEFINITION ---------------------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Linear solver for the implicit (or discrete adjoint) formulation (BCGSTAB, FGMRES)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">LINEAR_SOLVER</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">FGMRES</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Preconditioner of the Krylov linear solver (JACOBI, LINELET, LU_SGS)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">LINEAR_SOLVER_PREC</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">ILU</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Linael solver ILU preconditioner fill-in level (0 by default)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">LINEAR_SOLVER_ILU_FILL_IN</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Min error of the linear solver for the implicit formulation</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">LINEAR_SOLVER_ERROR</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">1E-14</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Max number of iterations of the linear solver for the implicit formulation</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">LINEAR_SOLVER_ITER</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">25</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% -------------------------- MULTIGRID PARAMETERS -----------------------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Multi-Grid Levels (0</span> <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">no multi-grid)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MGLEVEL</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Multi-grid cycle (V_CYCLE, W_CYCLE, FULLMG_CYCLE)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MGCYCLE</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">W_CYCLE</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Multi-grid pre-smoothing level</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MG_PRE_SMOOTH</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">( 1, 2, 3, 3 )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Multi-grid post-smoothing level</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MG_POST_SMOOTH</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">( 0, 0, 0, 0 )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Jacobi implicit smoothing of the correction</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MG_CORRECTION_SMOOTH</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">( 0, 0, 0, 0 )</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Damping factor for the residual restriction</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MG_DAMP_RESTRICTION</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0.8</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Damping factor for the correction prolongation</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MG_DAMP_PROLONGATION</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0.8</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% -------------------- FLOW NUMERICAL METHOD DEFINITION -----------------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Convective numerical method (JST, LAX-FRIEDRICH, CUSP, ROE, AUSM, HLLC,</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%                              TURKEL_PREC, MSW)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">CONV_NUM_METHOD_FLOW</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">FDS</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Monotonic Upwind Scheme for Conservation Laws (TVD) in the flow equations.</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%           Required for 2nd order upwind schemes (NO, YES)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MUSCL_FLOW</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">YES</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Slope limiter (NONE, VENKATAKRISHNAN, VENKATAKRISHNAN_WANG,</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%                BARTH_JESPERSEN, VAN_ALBADA_EDGE)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">SLOPE_LIMITER_FLOW</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">NONE</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Coefficient for the Venkat&#39;s limiter (upwind scheme). A larger values decrease</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%             the extent of limiting, values approaching zero cause</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%             lower-order approximation to the solution (0.05 by default)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">VENKAT_LIMITER_COEFF</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">0.05</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Time discretization (RUNGE-KUTTA_EXPLICIT, EULER_IMPLICIT, EULER_EXPLICIT)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">TIME_DISCRE_FLOW</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">EULER_IMPLICIT</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% --------------------------- CONVERGENCE PARAMETERS --------------------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Convergence criteria (CAUCHY, RESIDUAL)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">CONV_CRITERIA</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">RESIDUAL</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Min value of the residual (log10 of the residual)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">CONV_RESIDUAL_MINVAL</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">-14</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Start convergence criteria at iteration number</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">CONV_STARTITER</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">10</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Number of elements to apply the criteria</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">CONV_CAUCHY_ELEMS</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">100</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Epsilon to control the series convergence</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">CONV_CAUCHY_EPS</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">1E-14</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% ------------------------- INPUT/OUTPUT INFORMATION --------------------------%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Mesh input file</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MESH_FILENAME</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">VMFL001_rot_conc_cyl_2D.cgns</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Mesh input file format (SU2, CGNS, NETCDF_ASCII)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MESH_FORMAT</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">CGNS</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Mesh output file</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">MESH_OUT_FILENAME</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">mesh_out.cgns</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Restart flow input file</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">SOLUTION_FILENAME</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">solution_flow.dat</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Restart adjoint input file</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">SOLUTION_ADJ_FILENAME</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">solution_adj.dat</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Output file format (PARAVIEW, TECPLOT, STL)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">TABULAR_FORMAT</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">CSV</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Output file convergence history (w/o extension) </span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">CONV_FILENAME</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">history</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Output file restart flow</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">RESTART_FILENAME</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">restart_flow.dat</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Output file restart adjoint</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">RESTART_ADJ_FILENAME</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">restart_adj.dat</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Output file flow (w/o extension) variables</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">VOLUME_FILENAME</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">flow</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Output file adjoint (w/o extension) variables</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">VOLUME_ADJ_FILENAME</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">adjoint</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Output objective function gradient (using continuous adjoint)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">GRAD_OBJFUNC_FILENAME</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">of_grad.dat</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Output file surface flow coefficient (w/o extension)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">SURFACE_FILENAME</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">surface_flow</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Output file surface adjoint coefficient (w/o extension)</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">SURFACE_ADJ_FILENAME</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">surface_adjoint</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Writing solution file frequency</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">OUTPUT_WRT_FREQ</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">250</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Writing convergence history frequency</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">SCREEN_WRT_FREQ_INNER</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">1</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">%</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">% Screen output</span>
</span></span><span style="display:flex;"><span><span style="color:#50fa7b">SCREEN_OUTPUT</span><span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">(INNER_ITER, WALL_TIME,  RMS_PRESSURE, RMS_VELOCITY-X, RMS_VELOCITY-Y)</span>
</span></span></code></pre></div><p>确保vmfl001.cfg和网格文件VMFL001_rot_conc_cyl_2D.cgns在同一目录，执行以下命令（Windows下若用到tee命令，可以在Powershell里执行），运行求解并记录求解过程输出。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>SU2_CFD vmfl001.cfg | tee vmfl001.log
</span></span></code></pre></div><h3 id="62-后处理">6.2 后处理</h3>
<p>用ParaView打开求解输出的flow.vtu文件，处理过程同5.2。</p>
<p>
  <img src="/resources/20210814-6-1.png" alt="20210814-6-1.png">

</p>
<p>层流方程与SU2计算结果误差对比。</p>
<table>
  <thead>
      <tr>
          <th>半径 [mm]</th>
          <th>切向速度（理论值） [m/s]</th>
          <th>切向速度（SU2仿真结果）[m/s]</th>
          <th>误差 [%]</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>20</td>
          <td>0.0151</td>
          <td>0.0150846</td>
          <td>0.10</td>
      </tr>
      <tr>
          <td>25</td>
          <td>0.0105</td>
          <td>0.0105093</td>
          <td>0.09</td>
      </tr>
      <tr>
          <td>30</td>
          <td>0.0072</td>
          <td>0.00716493</td>
          <td>0.49</td>
      </tr>
      <tr>
          <td>35</td>
          <td>0.0046</td>
          <td>0.00453409</td>
          <td>1.43</td>
      </tr>
  </tbody>
</table>
<h2 id="7-总结">7. 总结</h2>
<p>横向对比来看，CFX求解精度最高；其次是SU2；然后是Fluent；OpenFOAM精度和Fluent相差无几，但求解速度更快；STAR-CCM+精度最差。</p>
<table>
  <thead>
      <tr>
          <th>半径 [mm]</th>
          <th>Fluent求解误差 [%]</th>
          <th>CFX求解误差 [%]</th>
          <th>STAR-CCM+求解误差 [%]</th>
          <th>OpenFOAM求解误差 [%]</th>
          <th>SU2求解误差 [%]</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>20</td>
          <td>0.48</td>
          <td>0.05</td>
          <td>1.50</td>
          <td>0.66</td>
          <td>0.10</td>
      </tr>
      <tr>
          <td>25</td>
          <td>0.34</td>
          <td>0.27</td>
          <td>1.61</td>
          <td>0.60</td>
          <td>0.09</td>
      </tr>
      <tr>
          <td>30</td>
          <td>1.06</td>
          <td>0.24</td>
          <td>6.69</td>
          <td>1.02</td>
          <td>0.49</td>
      </tr>
      <tr>
          <td>35</td>
          <td>2.23</td>
          <td>1.15</td>
          <td>3.65</td>
          <td>1.57</td>
          <td>1.43</td>
      </tr>
  </tbody>
</table>

            
             
            
<script src="https://giscus.app/client.js"
        data-repo="AndrewMoa2005/AndrewMoa2005.github.io"
        data-repo-id="R_kgDOOSI4_A"
        data-category="General"
        data-category-id="DIC_kwDOOSI4_M4Co1Kf"
        data-mapping="pathname"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-theme="light"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
</script>





<link href="https://xxx.xxx.com/dist/Artalk.css" rel="stylesheet" />
<script src="https://xxx.xxx.com/dist/Artalk.js"></script>


<div id="Comments"></div>

<script>
    Artalk.init({
        el: '#Comments',
        pageKey: 'https:\/\/andrewmoa.site\/2021\/08\/14\/vmfl001\/',
        pageTitle: '求解器验证对比——旋转和静止同心圆柱之间的层流',
        server: 'https:\/\/xxx.xxx.com',
        site: 'xxx blog',
    })
</script>


            
            </div>
            
            

<div class="
    col-lg-3 col-lg-offset-0
    col-md-3 col-md-offset-0
    col-sm-12
    col-xs-12
    sidebar-container
">
    
	
    <section class="visible-md visible-lg">
	
        <div class="short-about">
            
            <a href="/about">
               <img src="/img/polarbear.jpg" alt="avatar" style="cursor: pointer" />
            </a>
            
            
                <p>CAE Engineer, Open Source Explorer</p>
            
           
           <ul class="list-inline">
               
               <li>
                   <a href="mailto:Andrew.Moa2005@163.com">
                      <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                      </span>
                   </a>
               </li>
               
               
               
               
               
               
               <li>
                   <a target="_blank" href="/img/wechat_qrcode.jpg">
                       <span class="fa-stack fa-lg">
                           <i class="fas fa-circle fa-stack-2x"></i>
                           <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                       </span>
                   </a>
               </li>
               
               
               <li>
                   <a target="_blank" href="https://github.com/AndrewMoa2005">
                       <span class="fa-stack fa-lg">
                           <i class="fas fa-circle fa-stack-2x"></i>
                           <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                       </span>
                   </a>
               </li>
               
               
               
               
               
               
            
            
               
               
               
               
                </ul>
            </div>
    </section>
	
    
    
    
    
    <section>
        <hr class="hidden-sm hidden-xs">
        <h5>FEATURED TAGS</h5>
        <div class="tags">
            
            
               
                    <a href="/tags/abaqus" title="abaqus">
                        abaqus
                    </a>
               
            
               
                    <a href="/tags/ansa" title="ansa">
                        ansa
                    </a>
               
            
               
            
               
            
               
                    <a href="/tags/cae" title="cae">
                        cae
                    </a>
               
            
               
                    <a href="/tags/cfd" title="cfd">
                        cfd
                    </a>
               
            
               
                    <a href="/tags/cfx" title="cfx">
                        cfx
                    </a>
               
            
               
                    <a href="/tags/fluent" title="fluent">
                        fluent
                    </a>
               
            
               
                    <a href="/tags/java" title="java">
                        java
                    </a>
               
            
               
                    <a href="/tags/linux" title="linux">
                        linux
                    </a>
               
            
               
                    <a href="/tags/openfoam" title="openfoam">
                        openfoam
                    </a>
               
            
               
            
               
            
               
            
               
            
               
                    <a href="/tags/slurm" title="slurm">
                        slurm
                    </a>
               
            
               
                    <a href="/tags/star-ccm&#43;" title="star-ccm&#43;">
                        star-ccm&#43;
                    </a>
               
            
               
                    <a href="/tags/su2" title="su2">
                        su2
                    </a>
               
            
               
                    <a href="/tags/ubuntu" title="ubuntu">
                        ubuntu
                    </a>
               
            
               
                    <a href="/tags/%E5%89%8D%E5%A4%84%E7%90%86" title="前处理">
                        前处理
                    </a>
               
            
               
                    <a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA" title="虚拟机">
                        虚拟机
                    </a>
               
            
        </div>
    </section>
    

    
    
    
</div>

        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    <li>
                        <a href="mailto:Andrew.Moa2005@163.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    
                    

		            
                    
                    <li>
                        <a target="_blank" href="/img/wechat_qrcode.jpg">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    <li>
                        <a target="_blank" href="https://github.com/AndrewMoa2005">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    
                    
                    
                    
                    
                    
                    
                    
            
            
            
           
                   <li>
                       <a href='' rel="alternate" type="application/rss+xml" title="Andrew Moa Blog" >
                           <span class="fa-stack fa-lg">
                               <i class="fas fa-circle fa-stack-2x"></i>
                               <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                           </span>
                       </a>
                   </li>
            
             </ul>
		<p class="copyright text-muted">
                    Copyright &copy; Andrew Moa Blog 2025
                    
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true" >
                    </iframe>
                    
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>






<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow" title="' + t + '">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>






</body>
</html>
