<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Zhihu on Andrew Moa Blog Site</title>
    <link>https://andrewmoa.site/zh-cn/categories/zhihu/</link>
    <description>Recent content in Zhihu on Andrew Moa Blog Site</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <managingEditor>andrew.moa2005@163.com (Andrew Moa)</managingEditor>
    <webMaster>andrew.moa2005@163.com (Andrew Moa)</webMaster>
    <copyright>Andrew Moa</copyright>
    <lastBuildDate>Mon, 21 Apr 2025 17:30:33 +0800</lastBuildDate>
    <atom:link href="https://andrewmoa.site/zh-cn/categories/zhihu/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>超算平台部署STAR-CCM&#43;</title>
      <link>https://andrewmoa.site/zh-cn/post/2022-04-08-deploy-starccm-on-scp/</link>
      <pubDate>Fri, 08 Apr 2022 00:00:00 +0000</pubDate><author>andrew.moa2005@163.com (Andrew Moa)</author>
      <guid>https://andrewmoa.site/zh-cn/post/2022-04-08-deploy-starccm-on-scp/</guid>
      <description>&lt;p&gt;最近提供超算试用的平台挺多的，很多平台都有免费试用的申请。因工作需要申请了某超算平台的账号并进行了相关的试用，就超算平台部署STAR-CCM+软件及应用的过程做一个简单的记录，也为后续相关应用提供参考。&lt;/p&gt;&#xA;&lt;h2 id=&#34;1-超算平台信息&#34;&gt;1. 超算平台信息&lt;/h2&gt;&#xA;&lt;p&gt;远程登陆超算可以通过SSH连接，某些平台还提供的webSSH、webVNC连接，支持通过浏览器连接命令行或图形界面。具体登陆方式请参考平台提供的相关文档。&lt;/p&gt;&#xA;&lt;p&gt;首次登陆安装部署软件之前应当先了解超算平台的配置，确定平台是否支持需要安装的软件。通过以下命令了解超算平台的发行版信息。&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lsb_release -a&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;可以了解到该平台发行版为CentOS，版本7.9.2009。&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&#34;not-prose&#34;&gt;&#xA;&lt;picture&gt;&#xA;    &lt;source type=&#34;image/webp&#34; srcset=&#34;https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/01-%E5%8F%91%E8%A1%8C%E7%89%88%E4%BF%A1%E6%81%AF_hu_69a9fa85e9dc37c7.webp 320w, https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/01-%E5%8F%91%E8%A1%8C%E7%89%88%E4%BF%A1%E6%81%AF_hu_68626ded0948fc0a.webp 640w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;source type=&#34;image/jpeg&#34; srcset=&#34;https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/01-%E5%8F%91%E8%A1%8C%E7%89%88%E4%BF%A1%E6%81%AF_hu_c6660f9e8382d4c4.jpg 320w, https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/01-%E5%8F%91%E8%A1%8C%E7%89%88%E4%BF%A1%E6%81%AF_hu_b8d9ec5f5deda9e6.jpg 640w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;img class=&#34;h-auto max-w-full rounded-lg&#34; src=&#34;https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/01-%E5%8F%91%E8%A1%8C%E7%89%88%E4%BF%A1%E6%81%AF_hu_b8d9ec5f5deda9e6.jpg&#34; width=&#34;821&#34; height=&#34;159&#34; alt=&#34;01-发行版信息.png&#34; title=&#34;01-发行版信息.png&#34; loading=&#34;lazy&#34; /&gt;&#xA;  &lt;/picture&gt;&#xA;&lt;/div&gt;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;该超算平台所用并行作业调度系统为开源的Slurm，可以通过以下命令查看可供调用的计算资源。&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sinfo -a&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;输出比较长，这里只截了一部分。下图中&lt;code&gt;amd_256&lt;/code&gt;表示计算节点所在分区，记住它，后面编写脚本会用到。&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&#34;not-prose&#34;&gt;&#xA;&lt;picture&gt;&#xA;    &lt;source type=&#34;image/webp&#34; srcset=&#34;https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/02-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF_hu_23ab3e0550b301be.webp 320w, https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/02-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF_hu_6ec65493eeb0837f.webp 640w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;source type=&#34;image/jpeg&#34; srcset=&#34;https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/02-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF_hu_b6af80631d2e6bf3.jpg 320w, https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/02-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF_hu_2ae6168b5cda1058.jpg 640w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;img class=&#34;h-auto max-w-full rounded-lg&#34; src=&#34;https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/02-%E8%AE%A1%E7%AE%97%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF_hu_2ae6168b5cda1058.jpg&#34; width=&#34;820&#34; height=&#34;441&#34; alt=&#34;02-计算节点信息.png&#34; title=&#34;02-计算节点信息.png&#34; loading=&#34;lazy&#34; /&gt;&#xA;  &lt;/picture&gt;&#xA;&lt;/div&gt;&#xA;&lt;/p&gt;&#xA;&lt;h2 id=&#34;2-软件安装&#34;&gt;2. 软件安装&lt;/h2&gt;&#xA;&lt;p&gt;软件上传及存储请参考平台提供的相关文档。&lt;/p&gt;&#xA;&lt;p&gt;本文安装的是16.06.010双精度Linux版本。通过以下命令解压&lt;code&gt;tar.gz&lt;/code&gt;安装包。&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar xvzf &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;file-name&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.tar.gz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;安装文件被解压到&lt;code&gt;starccm+_16.06.010&lt;/code&gt;目录中，进入该目录运行&lt;code&gt;.sh&lt;/code&gt;文件开始安装。注意，此处不需要root用户权限（多数情况下平台是不会提供root账号的，但不影响软件安装）。&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./STAR-CCM+16.06.010_01_linux-x86_64-2.17_gnu9.2-r8.sh&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;用VNC连接的可以通过图形界面安装，不想通过图形界面安装可以用以下命令强制通过控制台安装。&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./STAR-CCM+16.06.010_01_linux-x86_64-2.17_gnu9.2-r8.sh -i console&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;本文采用控制台方式进行安装。首先提示LICENSE，如下图所示，按&lt;code&gt;ENTER&lt;/code&gt;继续。&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&#34;not-prose&#34;&gt;&#xA;&lt;picture&gt;&#xA;    &lt;source type=&#34;image/webp&#34; srcset=&#34;https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/03-LICENSE%E6%8F%90%E7%A4%BA_hu_f0cd6b5b705a6fdd.webp 320w, https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/03-LICENSE%E6%8F%90%E7%A4%BA_hu_eca3229eb4dc00c2.webp 640w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;source type=&#34;image/jpeg&#34; srcset=&#34;https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/03-LICENSE%E6%8F%90%E7%A4%BA_hu_ca52d1957af5bdbb.jpg 320w, https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/03-LICENSE%E6%8F%90%E7%A4%BA_hu_604e7647a8d33916.jpg 640w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;img class=&#34;h-auto max-w-full rounded-lg&#34; src=&#34;https://andrewmoa.site/post/2022-04-08-deploy-starccm-on-scp/images/03-LICENSE%E6%8F%90%E7%A4%BA_hu_604e7647a8d33916.jpg&#34; width=&#34;820&#34; height=&#34;465&#34; alt=&#34;03-LICENSE提示.png&#34; title=&#34;03-LICENSE提示.png&#34; loading=&#34;lazy&#34; /&gt;&#xA;  &lt;/picture&gt;&#xA;&lt;/div&gt;&#xA;&lt;/p&gt;</description>
    </item>
    <item>
      <title>扒一扒十沣科技国产CFD软件——QFlux及QMesh</title>
      <link>https://andrewmoa.site/zh-cn/post/2021-09-08-tenfong/</link>
      <pubDate>Wed, 08 Sep 2021 00:00:00 +0000</pubDate><author>andrew.moa2005@163.com (Andrew Moa)</author>
      <guid>https://andrewmoa.site/zh-cn/post/2021-09-08-tenfong/</guid>
      <description>&lt;p&gt;先说结论：十沣科技产品QFlux和QMesh与自身宣传不符。QMesh并不是什么“自主开发的先进计算流体力学核心软件”；而QFlux功能根本就尚未完善，至少没有包含其宣传所拥有的功能，而且笔者有理由怀疑其求解器根本就是“借鉴”自OpenFOAM。&lt;/p&gt;&#xA;&lt;h2 id=&#34;1-软件介绍及下载&#34;&gt;1. 软件介绍及下载&lt;/h2&gt;&#xA;&lt;p&gt;废话不多说，关于十沣科技的宣传可以从其官网（http://www.tenfong.cn/、http://www.qfx-tech.com/）上窥知一二。&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&#34;not-prose&#34;&gt;&#xA;&lt;picture&gt;&#xA;    &lt;source type=&#34;image/webp&#34; srcset=&#34;https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-01-%E4%BC%81%E4%B8%9A%E6%A6%82%E5%86%B5_hu_e863181bb681173.webp 320w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-01-%E4%BC%81%E4%B8%9A%E6%A6%82%E5%86%B5_hu_b77edfac386d497f.webp 640w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;source type=&#34;image/jpeg&#34; srcset=&#34;https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-01-%E4%BC%81%E4%B8%9A%E6%A6%82%E5%86%B5_hu_5bc43817acccc4d4.jpg 320w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-01-%E4%BC%81%E4%B8%9A%E6%A6%82%E5%86%B5_hu_2ead1fdf4267fef2.jpg 640w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;img class=&#34;h-auto max-w-full rounded-lg&#34; src=&#34;https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-01-%E4%BC%81%E4%B8%9A%E6%A6%82%E5%86%B5_hu_2ead1fdf4267fef2.jpg&#34; width=&#34;908&#34; height=&#34;515&#34; alt=&#34;20210808-01-企业概况.png&#34; title=&#34;20210808-01-企业概况.png&#34; loading=&#34;lazy&#34; /&gt;&#xA;  &lt;/picture&gt;&#xA;&lt;/div&gt;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;该公司官网上的两个产品：QFlux和QMesh，前一个是CFD求解器、后一个是网格前处理器。感兴趣的同学可以在官网上注册然后登录下载。&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&#34;not-prose&#34;&gt;&#xA;&lt;picture&gt;&#xA;    &lt;source type=&#34;image/webp&#34; srcset=&#34;https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-02-QFlux_hu_f5182d64d5ffe1c2.webp 320w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-02-QFlux_hu_51d7e086897cc8a4.webp 640w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-02-QFlux_hu_f8f24b3176968dff.webp 960w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;source type=&#34;image/jpeg&#34; srcset=&#34;https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-02-QFlux_hu_abb4327bbd7fd517.jpg 320w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-02-QFlux_hu_b145feae5823660c.jpg 640w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-02-QFlux_hu_7b055cf23a035798.jpg 960w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;img class=&#34;h-auto max-w-full rounded-lg&#34; src=&#34;https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-02-QFlux_hu_b145feae5823660c.jpg&#34; width=&#34;1065&#34; height=&#34;483&#34; alt=&#34;20210808-02-QFlux.png&#34; title=&#34;20210808-02-QFlux.png&#34; loading=&#34;lazy&#34; /&gt;&#xA;  &lt;/picture&gt;&#xA;&lt;/div&gt;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&#34;not-prose&#34;&gt;&#xA;&lt;picture&gt;&#xA;    &lt;source type=&#34;image/webp&#34; srcset=&#34;https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-03-QMesh_hu_fbf0ffbc3785cd.webp 320w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-03-QMesh_hu_ad7d5ae3fe83d3e2.webp 640w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-03-QMesh_hu_1fa85190ff53d15c.webp 960w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;source type=&#34;image/jpeg&#34; srcset=&#34;https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-03-QMesh_hu_f1115d8f9f193560.jpg 320w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-03-QMesh_hu_626e0612d5dbedf8.jpg 640w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-03-QMesh_hu_c752de402483b6f4.jpg 960w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;img class=&#34;h-auto max-w-full rounded-lg&#34; src=&#34;https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-03-QMesh_hu_626e0612d5dbedf8.jpg&#34; width=&#34;1259&#34; height=&#34;440&#34; alt=&#34;20210808-03-QMesh.png&#34; title=&#34;20210808-03-QMesh.png&#34; loading=&#34;lazy&#34; /&gt;&#xA;  &lt;/picture&gt;&#xA;&lt;/div&gt;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;不知是不是浏览器的问题，点击下载按钮后并不会弹出下载信息确认窗口，而是直接在浏览器后台下载，用户需要等到下载完成后到临时文件夹（Windows：C:\Users\[用户名]]\AppData\Local\Temp）里才能找到下载的程序安装文件。不仔细找找还真找不到，也不知道是官方是不是故意的呢。&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&#34;not-prose&#34;&gt;&#xA;&lt;picture&gt;&#xA;    &lt;source type=&#34;image/webp&#34; srcset=&#34;https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-04-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6_hu_daaf834ea870bdd7.webp 320w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-04-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6_hu_f3441f56bade7aa.webp 640w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-04-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6_hu_cfb0866386fd9839.webp 960w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;source type=&#34;image/jpeg&#34; srcset=&#34;https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-04-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6_hu_5b14c25f8ab02c66.jpg 320w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-04-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6_hu_f982adb86579aee2.jpg 640w, https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-04-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6_hu_5c25bfdebaa94c4c.jpg 960w&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;img class=&#34;h-auto max-w-full rounded-lg&#34; src=&#34;https://andrewmoa.site/post/2021-09-08-tenfong/images/20210808-04-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6_hu_f982adb86579aee2.jpg&#34; width=&#34;986&#34; height=&#34;165&#34; alt=&#34;20210808-04-下载文件.png&#34; title=&#34;20210808-04-下载文件.png&#34; loading=&#34;lazy&#34; /&gt;&#xA;  &lt;/picture&gt;&#xA;&lt;/div&gt;&#xA;&lt;/p&gt;</description>
    </item>
    <item>
      <title>求解器验证对比——旋转和静止同心圆柱之间的层流</title>
      <link>https://andrewmoa.site/zh-cn/post/2021-08-14-solver-verification-comparison/</link>
      <pubDate>Sat, 14 Aug 2021 00:00:00 +0000</pubDate><author>andrew.moa2005@163.com (Andrew Moa)</author>
      <guid>https://andrewmoa.site/zh-cn/post/2021-08-14-solver-verification-comparison/</guid>
      <description>&lt;p&gt;本文采用不同CFD求解器，对层流流动问题进行验证。通过列举不同求解器的操作过程和输出结果的差异，验证各个求解器的精度。&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;1-问题描述&#34;&gt;1. 问题描述&lt;/h2&gt;&#xA;&lt;p&gt;如下图，建立两个同心圆柱间的定常层流模型。流动由内筒以恒定角速度旋转而引起，而外筒保持静止。使用周期性边界，只需要对流域的一部分进行建模。物理模型和输入数据如下表所示。&lt;/p&gt;&#xA;&lt;p&gt;&lt;div class=&#34;not-prose&#34;&gt;&#xA;&lt;picture&gt;&#xA;    &lt;source type=&#34;image/webp&#34; srcset=&#34;&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;source type=&#34;image/jpeg&#34; srcset=&#34;&#34; sizes=&#34;(min-width: 1024px) 100vw, 50vw&#34; /&gt;&#xA;    &lt;img class=&#34;h-auto max-w-full rounded-lg&#34; src=&#34;https://andrewmoa.site/post/2021-08-14-solver-verification-comparison/images/20210814-1-1_hu_731890e9b1c01a3f.jpg&#34; width=&#34;276&#34; height=&#34;219&#34; alt=&#34;20210814-1-1.png&#34; title=&#34;20210814-1-1.png&#34; loading=&#34;lazy&#34; /&gt;&#xA;  &lt;/picture&gt;&#xA;&lt;/div&gt;&#xA;&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;来源&lt;/th&gt;&#xA;          &lt;th&gt;Ansys验证算例&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;参考文献&lt;/td&gt;&#xA;          &lt;td&gt;F. M. White. Viscous Fluid Flow. Section 3-2.3. McGraw-Hill Book Co., Inc.. New York, NY. 1991.&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;物理模型&lt;/td&gt;&#xA;          &lt;td&gt;层流，旋转壁面&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;流体物性参数、几何尺寸和边界条件如下表所示。&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;特征&lt;/th&gt;&#xA;          &lt;th&gt;单位&lt;/th&gt;&#xA;          &lt;th&gt;参数&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;流体密度&lt;/td&gt;&#xA;          &lt;td&gt;kg/m^3&lt;/td&gt;&#xA;          &lt;td&gt;1.0&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;流体粘度&lt;/td&gt;&#xA;          &lt;td&gt;kg/m-s&lt;/td&gt;&#xA;          &lt;td&gt;0.0002&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;内圆柱半径&lt;/td&gt;&#xA;          &lt;td&gt;mm&lt;/td&gt;&#xA;          &lt;td&gt;17.8&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;外圆柱半径&lt;/td&gt;&#xA;          &lt;td&gt;mm&lt;/td&gt;&#xA;          &lt;td&gt;46.28&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;内圆柱转速&lt;/td&gt;&#xA;          &lt;td&gt;rad/s&lt;/td&gt;&#xA;          &lt;td&gt;1.0&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;p&gt;本文所用求解器和输入模型如下。&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;求解器&lt;/th&gt;&#xA;          &lt;th&gt;输入模型&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;Ansys Fluent 2020R2&lt;/td&gt;&#xA;          &lt;td&gt;VMFL001_rot_conc_cyl_2D.msh&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;Ansys CFX 2020R2&lt;/td&gt;&#xA;          &lt;td&gt;VMFL001_rot_conc_cyl_3D.msh&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;Siemens STAR-CCM+ 2020.2.1(15.04.010-R8)&lt;/td&gt;&#xA;          &lt;td&gt;VMFL001_rot_conc_cyl_2D.msh&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;OpenFOAM v2006&lt;/td&gt;&#xA;          &lt;td&gt;VMFL001_rot_conc_cyl_2D.msh&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;SU2 v7.1.1&lt;/td&gt;&#xA;          &lt;td&gt;VMFL001_rot_conc_cyl_2D.cgns&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h2 id=&#34;2-fluent验证&#34;&gt;2. Fluent验证&lt;/h2&gt;&#xA;&lt;h3 id=&#34;21-求解器设置&#34;&gt;2.1 求解器设置&lt;/h3&gt;&#xA;&lt;p&gt;打开Fluent，选择2D求解器。网格数量较少，只用1个处理器核心运行。&lt;/p&gt;</description>
    </item>
    <item>
      <title>ArchLinux下OpenFOAM编译安装与PBS并行化</title>
      <link>https://andrewmoa.site/zh-cn/post/2021-08-12-archlinux-openfoam-pbs/</link>
      <pubDate>Thu, 12 Aug 2021 00:00:00 +0000</pubDate><author>andrew.moa2005@163.com (Andrew Moa)</author>
      <guid>https://andrewmoa.site/zh-cn/post/2021-08-12-archlinux-openfoam-pbs/</guid>
      <description>&lt;h2 id=&#34;1-源代码下载&#34;&gt;1. 源代码下载&lt;/h2&gt;&#xA;&lt;h3 id=&#34;11-下载openfoam源代码&#34;&gt;1.1 下载OpenFOAM源代码&lt;/h3&gt;&#xA;&lt;p&gt;在&lt;code&gt;${HOME}&lt;/code&gt;目录下新建OpenFOAM目录：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;HOME&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir OpenFOAM &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; OpenFOAM&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;从github下载OpenFOAM和ThirdParty的源代码，放到&lt;code&gt;${HOME}/OpenFOAM&lt;/code&gt;目录中：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone https://github.com/OpenFOAM/OpenFOAM-dev --depth&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone https://github.com/OpenFOAM/ThirdParty-dev --depth&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;12-下载torquepbs源码包&#34;&gt;1.2 下载Torque(PBS)源码包&lt;/h3&gt;&#xA;&lt;p&gt;本文用的是AUR中的Torque，CentOS、Debian和SUSE系的操作系统可以从Github上的OpenPBS下载现成的二进制包。采用OpenPBS或PBS Pro请跳过本文第3节，参照其他文档进行PBS配置。&lt;/p&gt;&#xA;&lt;p&gt;从AUR上下载Torque(PBS)源文件：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone https://aur.archlinux.org/torque.git&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; torque&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://wpfilebase.s3.amazonaws.com/torque/torque-6.1.1.1.tar.gz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;2-编译安装openfoam&#34;&gt;2. 编译安装OpenFOAM&lt;/h2&gt;&#xA;&lt;h3 id=&#34;21-设置环境变量&#34;&gt;2.1 设置环境变量&lt;/h3&gt;&#xA;&lt;p&gt;编辑&lt;code&gt;${HOME}/.bashrc&lt;/code&gt;文件，添加以下两行：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#OpenFOAM&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;HOME&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/OpenFOAM/OpenFOAM-dev/etc/bashrc &lt;span class=&#34;nv&#34;&gt;WM_MPLIB&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;OPENMPI&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;末尾的&lt;code&gt;WM_MPLIB=OPENMPI&lt;/code&gt;表示使用重新编译的OpenMPI库。&lt;/p&gt;&#xA;&lt;p&gt;更新环境变量：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;HOME&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/.bashrc&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;验证环境变量是否正确：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$WM_PROJECT_DIR&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$WM_THIRD_PARTY_DIR&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;可以正确输出OpenFOAM编译目录，则表示环境变量设置正确。&lt;/p&gt;&#xA;&lt;h3 id=&#34;22-编译第三方库&#34;&gt;2.2 编译第三方库&lt;/h3&gt;&#xA;&lt;p&gt;进入&lt;code&gt;ThirdParty-dev&lt;/code&gt;目录，编译第三方库：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$WM_THIRD_PARTY_DIR&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://download.open-mpi.org/release/open-mpi/v2.1/openmpi-2.1.1.tar.gz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar -xvzf openmpi-2.1.1.tar.gz&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./Allwmake&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;由于前面指定了&lt;code&gt;WM_MPLIB=OPENMPI&lt;/code&gt;，此处需要手动下载OpenMPI源码文件，使用&lt;code&gt;wget&lt;/code&gt;下载OpenMPI源码包并解压。&lt;code&gt;Allwmake&lt;/code&gt;后面可以增加&lt;code&gt;-jN&lt;/code&gt;选项开启多核并行编译，这里的&lt;code&gt;N&lt;/code&gt;应替换成并行数，&lt;code&gt;Allwmake&lt;/code&gt;会自动编译OpenMPI。&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;which mpirun&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WM_THIRD_PARTY_DIR&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/platforms/linux64Gcc/openmpi-2.1.1/bin/mpirun&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;which mpicc&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WM_THIRD_PARTY_DIR&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/platforms/linux64Gcc/openmpi-2.1.1/bin/mpicc&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;23-编译paraview&#34;&gt;2.3 编译ParaView&lt;/h3&gt;&#xA;&lt;p&gt;继续在&lt;code&gt;ThirdParty-dev&lt;/code&gt;目录里编译ParaView：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$WM_THIRD_PARTY_DIR&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./makeParaView -mpi&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wmRefresh&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;编译完成后运行&lt;code&gt;wmRefresh&lt;/code&gt;刷新环境变量。&lt;/p&gt;&#xA;&lt;h3 id=&#34;24-编译openfoam&#34;&gt;2.4 编译OpenFOAM&lt;/h3&gt;&#xA;&lt;p&gt;切换到&lt;code&gt;OpenFOAM-dev&lt;/code&gt;目录编译OpenFOAM：&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
